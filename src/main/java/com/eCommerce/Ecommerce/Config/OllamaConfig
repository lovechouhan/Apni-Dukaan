package com.eCommerce.Ecommerce.Config;

import jakarta.annotation.PostConstruct;

import org.springframework.stereotype.Component;

import java.io.IOException;
import java.net.Socket;

@Component

public class OllamaConfig {


    
    // @PostConstruct
    // public void startOllamaServer() {
    //     int port = 11434;

    //     // Check if Ollama is already running
    //     try (Socket socket = new Socket("localhost", port)) {
    //         System.out.println("Ollama already running on port " + port);
    //         return;
    //     } catch (IOException e) {
    //         System.out.println("Ollama not running. Starting now...");
    //     }

    //     // Path to Ollama executable
    //     String ollamaPath = "C:\\Users\\Victus\\AppData\\Local\\Programs\\Ollama\\ollama.exe";

    //     ProcessBuilder pb = new ProcessBuilder(
    //             ollamaPath, "serve", "--port", String.valueOf(port)
    //     );
    //     pb.redirectOutput(ProcessBuilder.Redirect.INHERIT);
    //     pb.redirectError(ProcessBuilder.Redirect.INHERIT);

    //     try {
    //         pb.start();
    //         System.out.println("Ollama server started on port " + port);
    //     } catch (IOException ex) {
    //         System.err.println("Failed to start Ollama: " + ex.getMessage());
    //     }
    // }


}
